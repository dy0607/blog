<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>NOI 2017 游记 | Dy0607's Home</title>

    <!-- Bootstrap CSS -->
<link href="http://localhost:4000//css/bootstrap.min.css" rel='stylesheet' type='text/css'/>
<link href="http://localhost:4000//css/simple-sidebar.css" rel='stylesheet' type='text/css'/>
<link href="http://localhost:4000//css/font-awesome.min.css" rel='stylesheet' type='text/css'/>
<link href="http://localhost:4000//css/font-extra.css" rel='stylesheet' type='text/css'/>
<link href="http://localhost:4000//css/global.css" rel='stylesheet' type='text/css'/>
<link href="http://localhost:4000//css/footer.css" rel='stylesheet' type='text/css'/>

    
    <!--MathJex-->
    <script type="text/x-mathjax-config">
	MathJax.Hub.Config({
  		tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
	});
	</script>
	<script type="text/javascript"
		src="http://localhost:4000//js/MathJax/MathJax.js?config=TeX-MML-AM_CHTML">
	</script>

	<link href="http://localhost:4000//css/post.css" rel='stylesheet' type="text/css"/>
    <link href="http://localhost:4000//css/md-post-header-collapse.css" rel='stylesheet' type="text/css"/>
    <link href="http://localhost:4000//css/toc.css" rel='stylesheet' type="text/css"/>

	<!--link rel="stylesheet" href="http://localhost:4000//styles/pygment.css" type="text/css"/-->

</head>
<body>
	
    <div id="wrapper" >
		
	    
<!-- Toggle Button -->
 <a href="#menu-toggle" class="btn btn-group-vertical btn-sm toggled" id="menu-toggle">
     <i class="fa fa-bars" aria-hidden="true"></i>
 </a>
 <!-- Sidebar for desktop -->
 <div id="sidebar-wrapper" class="hidden-xs-down">
    <nav class="nav nav-pills flex-sm-row p-3 justify-content-center">
        <a class="flex-sm-fill text-sm-center nav-link active" href="#sidebar-home-content" data-toggle="tab" role="tab" id="home">Home</a>
        <a class="flex-sm-fill text-sm-center nav-link hidden-xl-down" href="#sidebar-toc-content" data-toggle="tab" role="tab" id="toc">Toc</a>
    </nav>
    <div class="tab-content" id="tab-content">
        <div class="tab-pane text-sm-center active" id="sidebar-home-content" >
            <img class="site-author-image m-2" itemprop="image" src="http://cn.gravatar.com/avatar/bf5b26b9b641cbef09e5bc0bff9c7b2b?d=mm&s=256">
			<div style="line-height: 5px; padding-top: 5px;">
				<p class="text-warning">dy0607</p>
				<p class="text-white">keep on coding</p>
			</div>
			<style>
	a.navbartext{
		cursor: pointer; 
		color: gray;
	}

	a.navbartext:hover{
		color: #000000;
	}
</style>

<ul class="sidebar-nav">
    <li title="主页">
        <a href="http://localhost:4000//index.html">
            <i class="fa fa-home" aria-hidden="true"></i>
            Home
        </a>
    </li>
    <li title="博文">
        <a href="http://localhost:4000//index.html#archives">
            <i class="fa fa-file-archive-o" aria-hidden="true"></i>
            Archives 
             <span class="text-warning pull-right">24</span>
		</a>
    </li>
    <li title="分类">
        <a href="http://localhost:4000//categories.html">
            <i class="fa fa-tags" aria-hidden="true"></i>
            Categories
            <span class="text-warning pull-right">6</span>
        </a>
    </li>
    <li title="友情链接">
        <a href="http://localhost:4000//friends.html" >
            <i class="fa fa-users" aria-hidden="true"></i>
            Friends
        </a>
    </li>
	<li title="关于">
        <a href="http://localhost:4000//about.html" >
            <i class="fa fa-user" aria-hidden="true"></i>
            About
        </a>
    </li>
    <li title="搜索">
    	<a class="navbartext" href="#search" id="cb-search-btn" style="">
			<i class="fa fa-search" aria-hidden="true"></i>
			Search
		</a>
	<li>
</ul>

        </div>
        <div class="tab-pane fade text-sm-left" id="sidebar-toc-content">
        </div>
    </div>
    
</div>

<!-- Navbar for xsmall screen  -->
<div class="hidden-sm-up">
    <nav class="navbar navbar-toggleable-md navbar-light bg-faded">
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <a class="navbar-brand" href="#">Dy0607's Home</a>
        <div class="collapse navbar-collapse" id="navbarNav">
            <style>
	a.navbartext{
		cursor: pointer; 
		color: gray;
	}

	a.navbartext:hover{
		color: #000000;
	}
</style>

<ul class="sidebar-nav">
    <li title="主页">
        <a href="http://localhost:4000//index.html">
            <i class="fa fa-home" aria-hidden="true"></i>
            Home
        </a>
    </li>
    <li title="博文">
        <a href="http://localhost:4000//index.html#archives">
            <i class="fa fa-file-archive-o" aria-hidden="true"></i>
            Archives 
             <span class="text-warning pull-right">24</span>
		</a>
    </li>
    <li title="分类">
        <a href="http://localhost:4000//categories.html">
            <i class="fa fa-tags" aria-hidden="true"></i>
            Categories
            <span class="text-warning pull-right">6</span>
        </a>
    </li>
    <li title="友情链接">
        <a href="http://localhost:4000//friends.html" >
            <i class="fa fa-users" aria-hidden="true"></i>
            Friends
        </a>
    </li>
	<li title="关于">
        <a href="http://localhost:4000//about.html" >
            <i class="fa fa-user" aria-hidden="true"></i>
            About
        </a>
    </li>
    <li title="搜索">
    	<a class="navbartext" href="#search" id="cb-search-btn" style="">
			<i class="fa fa-search" aria-hidden="true"></i>
			Search
		</a>
	<li>
</ul>

        </div>
    </nav>
</div>
 
	   <!-- jQuery first, then Tether, then Bootstrap JS. -->
<script src="http://localhost:4000//js/jquery-3.1.1.min.js"></script>
<script src="http://localhost:4000//js/tether.min.js"></script>
<script src="http://localhost:4000//js/bootstrap.min.js"></script>

<!-- automatically push links to Baidu -->
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

	   <!-- Page Content -->
<div id="page-content-wrapper">
    <div class="container-fluid" id="post-content">
        <div class="row">		   
	   		<div class="pagewidth">
            <div class="col-md-12">
                <div class="page-header">
                    <h1 class="text-danger">
                        NOI 2017 游记
                    </h1></p>
                    <B>Date: <span class="badge badge-primary">2017-07-22</span></B></p>
                    <B>分类:  </B>
                    
    					<a href="http://localhost:4000//categories.html">
						<span class="badge badge-primary">OI历程</span></a>&nbsp;
    				
    				<B>|&nbsp;</B>
                    <B>标签:  </B>
                    
    					<a href="http://localhost:4000//categories.html">
						<span class="badge badge-primary">其它</span></a>&nbsp;
    				
    				</p>
                    </p>
                </div>
                <h2 id="day0">Day0</h2>

<p>笔试很水然而还是挂了一分。。</p>

<p>练习赛没有提答，看来今年没有提答玩了</p>

<p>晚上复习了几个早已忘记的模板，FFT，SAM，单纯型。</p>

<p>果然都没考。</p>

<h2 id="day1">Day1</h2>

<h3>Integer</h3>

<h4>Descrption</h4>

<p>一个初始为$0$的整数$x$，两种操作:</p>

<p>1.令$x = x + a \times 2^b$</p>

<p>2.询问$x$二进制$k + 1$位的值</p>

<p>$n$次操作，$n \le 10^6, 1 \le b, k \le 30n, |a| \le 10^9$</p>

<h4>Analysis</h4>

<p>直观的思路是大整数加法，然而进位会很慢，我们不妨用线段树来模拟这个过程。</p>

<p>考虑$a = 1$时，我们只需要找到从第$b + 1$位开始往后第一个$0$的位置，让它变为$1$，然后中间的一段变为$0$。要在$O(\log n)$时间内实现这个操作，只需要在每个节点上记录区间内最后出现的$0$的位置。</p>

<table>
  <tbody>
    <tr>
      <td>$a = -1$时，只需要找到第一个$1$。$a$为其它值时，只需要将其按二进制分成若干个$</td>
      <td>a</td>
      <td>= 1$的操作即可。</td>
    </tr>
  </tbody>
</table>

<p>这样复杂度是$O(n\log a \log (n \log a) )$的，有点卡，可以将$32$位压成一位，标记仍然是类似的，可以将复杂度中的$\log a$去掉。</p>

<p>于是只需要实现一棵支持区间修改，单点查询的线段树就可以了。然而松爷的题当然不会那么好打，于是T1就做了2h。</p>

<h3>queue</h3>

<h4>Description</h4>

<p>有一个字符串集合$S$，初始时是一些字符，每次有三种操作:</p>

<p>1.取出$S$中两个串，首尾相接放入$S$。</p>

<p>2.取出$S$中一个串断开，将断开后的两个串放入$S$。</p>

<p>3.给定$k$和串$T$，询问$T$的所有长为$k$的子串，在$S$中的元素的子串中出现次数的乘积，对$998244353$取模。</p>

<p>初始时$n$个字符，$m$次操作，$n \le 10^5 , m \le 5 \times 10^5, k \le 50$，断开操作的个数$c \le 10^3$。</p>

<h4>Analysis</h4>

<p>询问出现次数可以使用Hash，不难想到每次合并时将新出现的长度$50$以内的子串加入哈希表，断开时删除即可。</p>

<p>这样复杂度似乎每次是$O(k^2)$的，然而由于总的串数是$O(nk)$的，均摊下来每次$O(k)$，而断开操作会带来$O(ck^2)$的复杂度。</p>

<p>感觉比T1好写很多，然而一直以为复杂度是错的所以花了半个多小时想更好的做法，结果只是证明了复杂度没有问题。。</p>

<h3>pool</h3>

<h4>Description</h4>

<p>一个$1001 \times N$的大矩形，每个格子有$q$的概率是安全的，求最大的与大矩形底部相接且只含安全格子的矩形，面积恰好为$K$的概率。输出模$998244353$意义下的结果。</p>

<p>$N \le 10^9, K \le 10^3$</p>

<h4>Analysis</h4>

<p>考场上只会$N = 1$，想了很久连指数级算法都没有想到。。</p>

<p>不难发现矩形面积只跟每一列底部安全的格子个数有关，而每一列都是独立的，所以直接枚举每一列底部的安全格子数就可以拿到25暴力分。</p>

<p>然而很多dalao都拿到了至少70分。可以先考虑怎样算给定局面的答案，我们将每一列底部的安全格子个数为权值建笛卡尔树（父亲的权值比孩子小），那么答案就是每个节点的$size$与其权值之积的最大值。考虑以此模型DP：令$dp[i][j]$表示大小为$i$的子树，根权值为$j$，答案仍小于等于$k$的概率，则</p>

<script type="math/tex; mode=display">dp[i][j] = q^j (1 - q) \sum_{u=0}^{j-1} dp[u][> j] \times dp[j - 1 - u][\ge j]</script>

<p>由于$ij \le k$，直接暴力转移也可以保证复杂度。注意这里算的是小于等于的概率，分别对$k$和$k - 1$DP就能得到最终答案。</p>

<p>而$N$较大时，我们可以不计算$j = 0$时的答案，然后单独考虑。设$f_i$为$i$列时的答案，则:</p>

<script type="math/tex; mode=display">f_i = \sum_{j=1}^{k+1}f_{i-j} \times dp[j - 1][\ge 1]</script>

<p>矩乘可以做到90分，而这是一个常系数线性递推式，可以用多项式快速幂做到$O(k^2\log N)$甚至$O(k \log N \log k)$。</p>

<h3>后记</h3>

<p>今天似乎还不错，不得不说大样例给的很良心。</p>

<p>本来有点担心T2自然溢出的单哈希会挂，还好并没有卡。</p>

<p>T3完全没想到啊，看来得补补概率期望的DP题了。</p>

<p>100+100+10，竟然A题了？</p>

<h2 id="day15">Day1.5</h2>

<p>社会活动日，本来可以去科技馆，但看天气这么热还是呆在学校吧。</p>

<p>上午下午都有电影放映，可惜下午的电影看过了。。于是回寝室看（寝室中弥漫着一股颓废的气息）</p>

<p>恩就这样颓了一天</p>

<h2 id="day2">Day2</h2>

<h3>game</h3>

<h4>Description</h4>

<p>小 L 计划进行 $n$ 场游戏，每场游戏使用一张地图，小 L 会选择一辆车在该地图上完成游戏。</p>

<p>小 L 的赛车有三辆，分别用大写字母 A、B、C 表示。地图一共有四种，分别用小写字母 x、a、b、c 表示。</p>

<p>其中，赛车 A 不适合在地图 a 上使用，赛车 B 不适合在地图 b 上使用，赛车 C 不适合在地图 c 上使用，而地图 x 则适合所有赛车参加，适合所有赛车参加的地图最多只会有 $d$ 张。</p>

<p>小 L 对游戏有一些$m$个要求，这些要求可以用四元组 $(i,h_i,j,h_j)$ 来描述，表示若在第 i场使用型号为 $h_i$ 的车子，则第 $j$ 场游戏要使用型号为 $h_j$ 的车子。</p>

<p>你能帮小 L 选择每场游戏使用的赛车吗？如果有多种方案，输出任意一种方案。</p>

<p>如果无解，输出 -1。</p>

<p>$n \le 5 \times 10^4, m \le 10^5, d \le 8$</p>

<h4>Analysis</h4>

<p>看到限制条件很容易想到2SAT，于是就随手打了一个暴力2SAT（其实一直以来2SAT都是用DFS打的，根本没用Tarjan + Topsort写过）。</p>

<p>至于$d$张适合所有赛车参加的地图，枚举将其填入$a/b$即可，总复杂度$O(2^d(n + m))$。</p>

<p>然而考场上建图时一个判断写错了，而本题又是spj不好拍，check一下大样例的答案没问题就没管了，结果。。</p>

<h3>vegetables</h3>

<h4>Description</h4>

<p>在蔬菜仓库中，共存放有 $n$ 种蔬菜，小 N 需要根据不同蔬菜的特性，综合考虑各方面因素，设计合理的销售方案，以获得最多的收益。</p>

<p>在计算销售蔬菜的收益时，每销售一个单位第 $i$ 种蔬菜，就可以获得 $a_i$​​ 的收益。</p>

<p>特别地，由于政策鼓励商家进行多样化销售，第一次销售第 iii 种蔬菜时，还会额外得到 $s_i$的额外收益。</p>

<p>在经营开始时，第 $i$ 种蔬菜的库存为 $c_i$ 个单位。</p>

<p>然而，蔬菜的保鲜时间非常有限，一旦变质就不能进行销售，不过聪明的小 N 已 经计算出了每个单位蔬菜变质的时间：对于第 $i$ 种蔬菜，存在保鲜值 $x_i$​​ ，每天结束时会 有 $x_i$ 个单位的蔬菜变质，直到所有蔬菜都变质。（注意：每一单位蔬菜的变质时间是固定的）</p>

<p>同时，每天销售的蔬菜 . 总量也是有限的，最多不能超过 $m$ 个单位。</p>

<p>现在，小 N 有 $k$ 个问题，想请你帮忙算一算。每个问题的形式都是：对于已知的 $p_j$，如果需要销售 $p_j$天，最多能获得多少收益？</p>

<p>$n, p_j \le 10^5, m \le 10$</p>

<h4>Analysis</h4>

<p>挂的很惨的一题，首先是看错题了，（题面中对于$x_i$的描述极具迷惑性，差评），看到样例解释才发现不对。因为最后来打暴力的，所以这时候没什么时间了，导致暴力都炸了。。</p>

<p>不过对于$x_i = 0$的测试点还是拿到了，不难发现这种情况下只需要排个序贪心。</p>

<p>还没太弄懂，题解待填坑。。</p>

<h3>phantom</h3>

<h4>Description</h4>

<p>平面上有 $n$ 个小 P 的分身。定义一组分身占领的区域为覆盖这组分身的最小凸多边形。小 P 能力有限，每一时刻都会有若干分身消失。但在下一时刻之前，小 P 会使用 “分！身！术！” 使得这些消失的分身重新出现在原来的位置。小 P 想知道，每一时刻分身消失后，剩下的分身占领的区域面积是多少？</p>

<p>每次消失的分身为$k_i$，则$k_i \le 100, \sum k_i \le 2 \times 10^6, n \le 10^5$。</p>

<h4>Analysis</h4>

<p>20的暴力还是很好写的，过了大样例后又乱搞了一个$k = 1$的做法。</p>

<p>我们将凸包弄出来，显然删掉一个不在凸包上的点不会对答案产生影响。而删掉一个在凸包上的点，新的凸包中，原来在凸包上的点不变，还会有若干个点加入。假设凸包上的点为偶数，对于凸包上的点，我们每隔一个点删去一个点，再求凸包，就可以得到那些删去的点删去之后新加入了哪些点。奇数是类似的，只不过需要特判一下第一个点和最后一个点。</p>

<p>而正解则求了多层凸包，待填坑。</p>

<h3>后记</h3>

<p>本来以为T1有85，结果挂成35。听说直接随机解都能拿到75，这么弱应该写个暴力啊。</p>

<p>T2暴力写错了，不过还有24。</p>

<p>于是35+24+40滚粗了，没想到T3分还是最多的。</p>

<p>稍有遗憾，如果T2暴力没挂就au了呀。</p>

<p>围观__debug与h10进队</p>

<h2 id="dayinfty">Day$\infty$</h2>

<p>第一次NOI就这样结束了呢，虽然Day2挂了点分但A了两题感觉还不错。</p>

<p>总之在考场上还是得求稳一点，尽量打个暴力保证暴力分，能拍则拍，不要只依靠大样例。</p>

<p>题目一定要看清楚，样例解释也要认真看，数据范围里面不要漏掉能拿的部分分。</p>

<p>归根到底还是太弱了，希望接下来一年有所长进</p>

<p>NOI2018再见(前提是还能进NOI2018)</p>

                </p></p>

                <!-- don't delete this div as this is header collapse end identified  -->
                <div id="content-end"></div>
                <div></div>
                </div>
            </div>

        </div>
    </div>
<!-- /#page-content-wrapper -->

	   <div class="pagewidth">
<div class="row">
    <div class="col-md-12">
        <div id="disqus_thread"></div>
        <script>
          var disqus_config = function () {
            this.page.url = 'https://dy0607.github.io';  
            this.page.identifier = 'https://dy0607.github.io/dy0607.github.io/index.html';
          };
          
          (function() { // DON'T EDIT BELOW THIS LINE
          var d = document, s = d.createElement('script');
          s.src = 'https://dy0607.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
          })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
</div>
</div>

	   <footer class="mt-5 pt-5">
  <div class="container">
    <div class="row">
      <div class="col-md-6">
        <strong>Credits</strong>
        <table class="table table-sm">
          <tr>
            <td>Original theme by:</td>
            <td>Szhshp</td>
          </tr>
          <tr>
            <td>Engine:</td>
            <td>Ruby x Jekyll</td>
          </tr>
          </table>
	  <p class="text-muted">Copyright &copy; dy0607 2018</p>
        </div>

        <div class="col-md-6">
          <strong>External Links</strong>
        <table class="table table-sm">
		<tr>
		  <td><a href="http://codeforces.com"> Codeforces</a></td>
		</tr>
		<tr>
		  <td><a href="https://atcoder.jp"> Atcoder</a></td>
		</tr>
		<tr>
		  <td><a href="https://github.com/"> Github</a></td>
		</tr>
		<tr>
		  <td><a href="http://uoj.ac">UOJ</a></td>
		</tr>
		</table>

      </div>
    </div>  
   
    <!--search engine-->
    <link rel="stylesheet" href="http://localhost:4000//search/css/cb-search.css">

	<div class="cb-search-tool" style="position: fixed; top: 0px ; bottom: 0px; left: 0px; right: 0px;
		  opacity: 0.95; background-color: #000; z-index: 9999; display: none;">
		<input type="text" class="form-control cb-search-content" id="cb-search-content" 
			style="position: fixed; top: 60px; " placeholder="Search for titles or tags..." >

		<div style="position: fixed; top: 30px; right: 260px;">
		    <a class="btn btn-group-vertical btn-sm" id="cb-close-btn">
				<i class="fa fa-close" aria-hidden="true"></i>
			</a>
		</div>
	</div>

	
	<script src="http://localhost:4000//search/js/bootstrap3-typeahead.min.js"></script>
	<script src="http://localhost:4000//search/js/cb-search.js"></script>

  </footer>
  
<!--player-->
<!--
<embed src="http://www.xiami.com/widget/0_2096838/singlePlayer.swf" 
	type="application/x-shockwave-flash" width="252" height="33" wmode="transparent" style="position: fixed; bottom: 0; left: 30px; opacity: 0.5;"></embed>
-->
  


    </div>
    
   <!-- New Highlighter : you can change the theme here -->
   <link rel="stylesheet" href="http://localhost:4000//styles/gruvbox-dark.css"/>
	<script src="http://localhost:4000//js/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
	
   <!-- Old Highlighter : do not remove it or there may be a compile error in post.js -->
   <script src="http://localhost:4000//js/shCore.js" type='text/javascript'></script>

   <!-- Header collapse -->
   <script src="http://localhost:4000//js/md-post-header-collapse.js" type="text/javascript"></script>

   <script src="http://localhost:4000//js/sidebar.js" type="text/javascript"></script>
   <script src="http://localhost:4000//js/post.js" type="text/javascript"></script>
   <script src="http://localhost:4000//js/toc.js" type="text/javascript"></script>


</body>
</html>

